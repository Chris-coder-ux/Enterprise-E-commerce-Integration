# Plan de Commits Actualizado - Refactorización y Optimizaciones

## Commit 1: Configuración de herramientas de desarrollo
**Tipo:** `chore`
**Descripción:** Configuración de ESLint, TypeScript, JSDoc y dependencias

```bash
git add .eslintrc.json assets/js/.eslintrc.json jsdoc.config.json tsconfig.json package.json package-lock.json
git commit -m "chore: configuración herramientas desarrollo

- Configuración ESLint actualizada
- Configuración TypeScript (tsconfig.json)
- Configuración JSDoc (jsdoc.config.json)
- Actualización dependencias npm"
```

## Commit 2: Refactorización dashboard JavaScript - Core y Managers
**Tipo:** `refactor`
**Descripción:** Modernización del código JavaScript del dashboard (core, managers, sync)

```bash
git add assets/js/dashboard/core/ErrorHandler.js assets/js/dashboard/core/EventManager.js assets/js/dashboard/core/AjaxManager.js assets/js/dashboard/managers/PollingManager.js assets/js/dashboard/managers/SyncStateManager.js assets/js/dashboard/managers/NonceManager.js assets/js/dashboard/sync/Phase1Manager.js assets/js/dashboard/sync/Phase2Manager.js assets/js/dashboard/sync/SyncController.js assets/js/dashboard/sync/SyncProgress.js
git commit -m "refactor(dashboard): modernización core y managers JavaScript

- Refactorización ErrorHandler con mejor manejo de errores
- Mejoras en EventManager y AjaxManager
- PollingManager optimizado con mejor gestión de eventos
- SyncStateManager mejorado
- Phase1Manager y Phase2Manager refactorizados
- SyncController y SyncProgress modernizados

Mejoras: mejor tipado, manejo de errores, gestión de eventos"
```

## Commit 3: Refactorización dashboard JavaScript - Componentes y UI
**Tipo:** `refactor`
**Descripción:** Modernización de componentes y UI del dashboard

```bash
git add assets/js/dashboard/components/ConsoleManager.js assets/js/dashboard/components/ProgressBar.js assets/js/dashboard/components/SyncDashboard.js assets/js/dashboard/components/ToastManager.js assets/js/dashboard/components/UnifiedDashboard.js assets/js/dashboard/ui/CardManager.js assets/js/dashboard/ui/ResponsiveLayout.js assets/js/dashboard/config/dashboard-config.js assets/js/dashboard/dashboard.js assets/js/dashboard/utils/ApiClient.js
git commit -m "refactor(dashboard): modernización componentes y UI

- ConsoleManager refactorizado con mejor gestión de logs
- ProgressBar mejorado
- SyncDashboard optimizado
- ToastManager y UnifiedDashboard modernizados
- CardManager y ResponsiveLayout mejorados
- Configuración del dashboard actualizada
- ApiClient refactorizado"
```

## Commit 4: Nuevas utilidades de seguridad y optimización
**Tipo:** `feat`
**Descripción:** Nuevas utilidades para seguridad y optimización

```bash
git add assets/js/dashboard/utils/Sanitizer.js assets/js/dashboard/utils/UIOptimizer.js assets/js/dashboard/managers/EventCleanupManager.js assets/js/dashboard/types.d.ts
git commit -m "feat(dashboard): nuevas utilidades seguridad y optimización

- Sanitizer: utilidad para sanitización XSS
- UIOptimizer: optimizaciones de rendimiento UI
- EventCleanupManager: gestión de limpieza de eventos
- types.d.ts: definiciones TypeScript para tipado"
```

## Commit 5: Optimizaciones backend PHP - Sincronización
**Tipo:** `perf`
**Descripción:** Optimizaciones críticas de rendimiento en sincronización

```bash
git add includes/Helpers/MapProduct.php includes/Core/BatchProcessor.php includes/Core/Sync_Manager.php includes/Sync/ImageProcessor.php includes/Helpers/IndexHelper.php
git commit -m "perf(backend): optimizaciones críticas sincronización

- Optimización consulta SQL get_attachments_by_article_id
- Logging detallado solo en modo WP_DEBUG
- Fallback por hash optimizado
- Limpieza de caché configurable
- Delay entre lotes optimizado
- Verificación de attachments mejorada
- ImageProcessor optimizado

Impacto: reducción ~80-90% consultas SQL, ~70-85% tiempo total"
```

## Commit 6: Nuevas utilidades backend PHP
**Tipo:** `feat`
**Descripción:** Nuevas utilidades para gestión de imágenes y duplicados

```bash
git add includes/Helpers/OptimizeImageDuplicatesSearch.php includes/Helpers/RepairImageMetadata.php
git commit -m "feat(backend): utilidades gestión imágenes y duplicados

- OptimizeImageDuplicatesSearch: búsqueda optimizada de duplicados
- RepairImageMetadata: reparación de metadatos de imágenes"
```

## Commit 7: Mejoras backend PHP - Admin y Core
**Tipo:** `feat` / `fix`
**Descripción:** Mejoras en admin, AJAX y core

```bash
git add includes/Admin/AjaxSync.php includes/Admin/DashboardPageView.php includes/Core/EmergencyLoader.php
git commit -m "feat(backend): mejoras admin, AJAX y core

- AjaxSync: mejoras en endpoints AJAX
- DashboardPageView: mejoras en vista del dashboard
- EmergencyLoader: mejoras en carga de emergencia"
```

## Commit 8: Tests y especificaciones actualizadas
**Tipo:** `test`
**Descripción:** Tests y especificaciones actualizadas para el dashboard

```bash
git add spec/dashboard/components/ConsoleManagerSpec.js spec/dashboard/components/SyncDashboardPhase2Spec.js spec/dashboard/core/ErrorHandlerSpec.js spec/dashboard/managers/PollingManagerSpec.js spec/dashboard/sync/Phase2ManagerSpec.js spec/dashboard/managers/EventCleanupManagerSpec.js spec/dashboard/sync/Phase1ManagerSpec.js spec/dashboard/sync/SyncProgressSpec.js spec/helpers/jasmine-jquery.js spec/support/jasmine.json spec/SpecRunner.html tests/dashboard/core/ErrorHandler.test.js spec/dashboard/utils/
git commit -m "test(dashboard): tests y especificaciones actualizadas

- Tests Jasmine para todos los componentes refactorizados
- Tests para nuevas utilidades (EventCleanupManager, etc.)
- SpecRunner.html actualizado
- Configuración Jasmine actualizada
- Mocks actualizados para compatibilidad"
```

## Commit 9: Scripts de build y documentación
**Tipo:** `chore` / `docs`
**Descripción:** Scripts de build y documentación técnica

```bash
git add build-plugin-fixed-v2.sh docs/ANALISIS_*.md docs/ARQUITECTURA_*.md docs/BASELINE_REVIEW.md docs/CHECKLIST_*.md docs/REFACTORIZACION_*.md docs/RESUMEN_*.md docs/SANITIZACION_*.md docs/SISTEMA_*.md docs/SOLUCION_*.md docs/TIPADO_*.md docs/TRANSICION_*.md docs/USO_*.md docs/jsdoc/ .git-commit-plan.md
git commit -m "docs: documentación técnica y scripts build

- 15+ documentos de análisis técnico
- Documentación de arquitectura
- Guías de uso y transición
- Scripts de build actualizados
- Documentación JSDoc generada"
```

## Commit 10: Archivos de configuración adicionales
**Tipo:** `chore`
**Descripción:** Archivos de configuración adicionales

```bash
git add .kilocodemodes .git-commit-plan-updated.md
git commit -m "chore: archivos configuración adicionales

- Configuración kilocodemodes
- Plan de commits actualizado"
```

---

## Resumen de cambios:
- **41 archivos modificados**: +10,867 líneas, -1,793 líneas
- **Nuevos archivos**: utilidades, tipos TypeScript, documentación
- **Áreas principales**: Dashboard JavaScript, Backend PHP, Tests, Documentación

---

## Verificación antes de commits:

```bash
# Ver estadísticas de cambios
git diff --stat

# Verificar que no hay archivos temporales
git status

# Ver cambios específicos de un archivo
git diff <archivo> | head -50
```

